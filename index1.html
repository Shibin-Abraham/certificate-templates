<!--
Author: W3layouts
Author URL: http://w3layouts.com
-->
<!DOCTYPE html>
<html lang="zxx">

<head>
    <title>Certificate Templates</title>
    <!-- Meta tag Keywords -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8" />
    <meta name="keywords"
        content="Certificate templates, Certificate Editor,Certificate generator" />
    <!-- //Meta tag Keywords -->

    <link href="//fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

    <!--/Style-CSS -->
    <link rel="stylesheet" href="css/style.css" type="text/css" media="all" />
    <!--//Style-CSS -->

    <script src="https://kit.fontawesome.com/af562a2a63.js" crossorigin="anonymous"></script>

</head>

<body>

    <!-- form section start -->
    <section class="w3l-mockup-form">
        <h1>Work shop</h1>
        
        <div class="container">
            <!-- /form -->
            <div class="workinghny-form-grid">
                <div class="main-mockup">
                    <div class="alert-close">
                        <span class="fa fa-close"></span>
                    </div>
                    <div class="w3l_form align-self">
                        <div class="left_grid_info">
                          <canvas id='canvas' width='437' height='297' style='border: solid 3px white'></canvas>
                           
                        </div>
                    </div>
                    <div class="content-wthree">
                        <h2> &nbsp; &nbsp; &nbsp; &nbsp;Editor choice</h2>

                        <form action="#" method="post">
                            <input type="text" class="text" name="purpose" id="purpose" placeholder="eg:Certificate of Completion" required="">
                            
                            <input type="text" class="text" name="inName" placeholder="Institution Name" id="inName" required="">
                            <input type="text" class="text" name="cnName" placeholder="Name of the Candidate" id="cnName">
                             <textarea class="textarea" rows="4"cols="50" name="content" placeholder="for completing 7-days Bootcamp on PORTFOLIO Website using HTML and CSS" id="content"></textarea>
                           <br>
                           <button class="btn" type="button" id="create"> Create </button>
                           <center><span style="color: #3b3663;
                           font-weight: bold" id="p"></span></center>
                            <!--<button class="" type="button"> Download </button>
                        </form>
                        <div class="social-icons w3layouts">
                            <ul>
                                <li>
                                    <a href="#url" class="facebook"><span class="fab fa-facebook"></span> </a>
                                </li>
                                <li>
                                    <a href="#url" class="twitter"><span class="fab fa-twitter"></span> </a>
                                </li>
                                <li>
                                    <a href="#url" class="pinterest"><span class="fab fa-pinterest"></span> </a>
                                </li>
                            </ul>
                        </div>-->
                    </div>
                </div>
            </div>
            <!-- //form -->
        </div>
        <!-- copyright-->
        <div class="copyright text-center">
          <marquee><p class="copy-footer-29">Â© 2022 All rights reserved | Created by <a
                        href="http://shibinabraham.000webhostapp.com">SHIBIN K A</a></p></marquee>
            
        </div>
        <!-- //copyright-->
    </section>
    <!-- //form section start -->

    <script src="js/jquery.min.js"></script>
    <script>
        $(document).ready(function (c) {
            $('.alert-close').on('click', function (c) {
                $('.main-mockup').fadeOut('slow', function (c) {
                    $('.main-mockup').remove();
                });
            });
        });
    </script>
    <script>
      
      
      
     // let inName = document.getElementById("inName");
      
      //let spltContent = content.split(' ');
      
      //console.log(purpose,inName,content)
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");
      //const ctx1 = canvas.getContext("2d")
      const img = new Image()
      var ovrlyImg = new Image()
       img.onload = function() {
           ctx.drawImage(img, 0, 0,437,297)
           
/*---------first textbox start ----------*/

      let purpose = document.getElementById("purpose");
      
         purpose.addEventListener("change",()=>{
             ctx.font = ' bold 22px Poppins';
             ctx.fillStyle = "MediumBlue"
             let spltPurpose = purpose.value.split(' ')
             if(spltPurpose.length<=3){
               let prpseArray=[]
               for(let i=0;i<spltPurpose.length;i++){
                 if(i<2){
                 prpseArray.push(spltPurpose[i])
                 if(i==1||spltPurpose.length==1){
                   var result=prpseArray.join(' ')
                   ctx.fillText(result, 23, 60)
                 }
                 }else{
                   ctx.fillText(spltPurpose[i], 23, 85)
                 }
               }
             }else{
               alert("In this field Maximum 3 words")
               purpose.value=""
             }
           })
/*-----------firt textbox end--------------*/

           
/*---------- second textbox start---------*/

            inName= document.getElementById("inName");
            inName.addEventListener("change",() =>{
              var splitName = inName.value.split('')
              if(splitName.length<=11){
              ctx.font = ' bold 22px Poppins'
              ctx.fillStyle = "MediumBlue"
            ctx.fillText(inName.value, 260, 72)
              }else{
                alert ("In this field Maximum 11 letters");
                inName.value=""
              }
            }) 
 /*---------second textbox end-------------*/
           
 /*--------- third textbox start ---------*/
      let cnName = document.getElementById("cnName");
      cnName.addEventListener("change",()=>{
        //console. log(cnName)
           ctx.font = "20px serif"
           ctx.fillStyle = "Blue"
           ctx.fillText(cnName.value.toUpperCase(), 47, 157)
      })
      
           
 /*--------- third textbox end ------------*/
 
 /*---------text area start ---------------*/
 
 let content = document.getElementById("content")
           
           content.addEventListener("change",()=>{
             ctx.font = "10px serif"
             ctx.fillStyle = "black"
            // console.log(content.value)
             let spltContent = content.value.split(' ');
             if(spltContent.length<=18){
               if(spltContent.length<=9){
                 ctx.fillText(content.value,47,190)
               }else{
                 if(spltContent.length % 2== 0){
                   let firstLin = spltContent.length /2;
                   let finalArray=[]
                   let secondArray=[]
                   for(let i=0;i<spltContent.length;i++){
                     if(i<=firstLin){
                       finalArray.push(spltContent[i]);
                       if(i==firstLin){
                         let finalRes=finalArray.join(' ');
                         ctx.fillText(finalRes,47,190)
                       }
                     }else{
                       secondArray.push(spltContent[i])
                       if(i==spltContent.length-1){
                         let finalRes=secondArray.join(' ')
                         ctx.fillText(finalRes,47,210)
                       }
                     }
                   }
                 }else{
                   let len=spltContent.length-1;
                   let firstLin = len / 2;
                   let finalArray = []
                   let secondArray = []
                   for (let i = 0; i < spltContent.length; i++) {
                     if (i <= firstLin) {
                       finalArray.push(spltContent[i]);
                       if (i == firstLin) {
                         let finalRes = finalArray.join(' ');
                         ctx.fillText(finalRes, 47, 190)
                       }
                     } else {
                       secondArray.push(spltContent[i])
                       if (i == spltContent.length - 1) {
                         let finalRes = secondArray.join(' ')
                         ctx.fillText(finalRes, 47, 210)
                       }
                     }
                   }
                 }
               }
             }else{
               alert("Content field allow maximum 18 words ");
             }
            
           })
 /*---------text area end ----------------*/
           
           //ctx.drawImage(ovrlyImg,105,195,20,30) 
           
           
             
           
            /*for(let i =0;i<spltContent.length;i++){
            if(i==5){
           ctx.fillText(`  ${spltContent[i]}     `, 47, 190)
            }
             
           }*/
          /* ctx.fillText(spltContent[1], 70, 190)
           ctx.fillText(spltContent[2], 141, 190)
           ctx.fillText(spltContent[3], 185, 190)
           ctx.fillText(spltContent[4], 250, 190)*/
       }
       
       ovrlyImg.src = "templates/1661094896804.jpg"
          
       img.src = "templates/image.jpg"
    createBtn = document.getElementById("create") 
    createBtn.addEventListener("click",()=>{
       
          let p = document.getElementById("p");
          
            setTimeout(()=>{
              let i = 5
              p.innerHTML = i
              setTimeout(()=>{
                i--
                p.innerHTML= i
                setTimeout(()=>{
                  i--
                  p.innerHTML= i
                  setTimeout(() => {
                    i--
                    p.innerHTML = i
                    setTimeout(() => {
                      i--
                      p.innerHTML = i
                      var image = canvas.toDataURL("image/jpeg", 1.0);
                      //console.log(image)
                      let pdf = new jsPDF('landscape');
                      pdf.setFontSize(20);
                      pdf.addImage(image, 'JPEG', 15, 15, 280, 180);
                      pdf.save('templates.pdf')
                      setTimeout(() => {
                        i--
                        p.innerHTML = i
                        p.innerHTML= "Downloading..."
                        
                        
                        
                        
                        
                        setTimeout(() => {
                          
                          p.innerHTML = ""
                        }, 2000)
                      }, 1000)
                    }, 1000)
                  }, 1000)
                },1000)
              },1000)
            },1000)
         
    })
       
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js" integrity="sha512-t2JWqzirxOmR9MZKu+BMz0TNHe55G5BZ/tfTmXMlxpUY8tsTo3QMD27QGoYKZKFAraIPDhFv56HLdN11ctmiTQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.debug.js"></script>
</body>

</html>
