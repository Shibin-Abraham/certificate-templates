<!--A Design by W3layouts
Author: W3layout
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE HTML>
<html>

<head>
    <title> AWESOME TEMPLATE</title>
    <!-- Meta Tags -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content=" awesome tem" />
    <script type="application/x-javascript">
        addEventListener("load", function() {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }

    </script>
    <!-- //Meta Tags -->
    <!-- font-awesome-stylesheet -->
    <link href="css/fontawesome-all.min.css" rel="stylesheet" type="text/css" media="all">
    <!-- //font-awesome-stylesheet -->
    <link href="css/style.css" rel='stylesheet' type='text/css' />
    <!--fonts-->
    <link href="//fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700,800" rel="stylesheet">
    <!--//fonts-->
</head>

<body>
    <!-- main-content -->
    <h1> Brilliant</h1>
    <div class="main-content-agileits">
        <!-- left-content -->
        <div class="left-text-w3ls">
            <!--<img src="images/sub.jpg" alt="er">-->
  
  <div class="w3_pad">
  
    <!--<h2 class="sub-head-w3-agileits"></h2>-->
    <p> </p>
  
    <div class="login-form">
      <form action="#" method="post">
        <div class="w3_lb">
          <label>Pick Suitable Logos</label>
        </div><br><br>
       <img id="1st" style="width: 130px;height: 110px;" src="images/icon100k.png" alt="">
       <img id="2nd" style="width: 210px;height: 120px;" src="images/JavaScript-Logo.png" alt=""><br><br><br>
       <img id="3rd" style="width: 125px;height: 125px;" src="images/code.png" alt="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
       
       <img id="4th" style="width: 135px;height: 135px;" src="images/lap-logo.png" alt="">
       
     
       
       
        <div class="w3_sub">

         
       
          
        </div>
      </form>
    </div>
  </div>
            
               

        </div>
        <!-- //left-content -->
        <!-- form -->
        <div class="login-w3l">
            <div class="top-img-agileits-w3layouts">
                <div class="w3_pad">

                    <h2 class="sub-head-w3-agileits"> Editor Choice</h2>
                 <hr>

                    <div class="login-form">
                        <form action="#" method="post">
                          
                            <input type="text" name="purpose"
                id="purpose" placeholder="CERTIFICATE OF COMPLETION"/>
                            <input type="text" name="text" placeholder="JOHN DUE" id="stName"/>
                            <input type="text" name="text" id="content" placeholder="Has successfully completed the 100K CODING CHALLENGE"/>
                            <input type="text" name="text" id="csNo" placeholder="Certificate no. here" required="" />
                            <input type="file" id="icon_img"><br><br>
                            <input type="file" id="icon_img2"><br><br>
                            <input type="file" id="icon_img3">
                            <div class="w3_sub">
                                <input type="button" id="back" value="GO BACK">  <input type="button" id="clear" value="CLEAR">
                     
                             
                            </div>
                        </form>
                    </div>
                </div>
                <div class="clear"></div>
               <div class="w3_soc">
                     <button id="download">Download</button>
                     <p id="p"></p>
                    <!--<div class="footer-social">

                        <ul>
                            <li>
                                <a href="#">
								<i class="fab fa-facebook-f icon_facebook"></i>
							</a>
                            </li>
                            <li>
                                <a href="#">
								<i class="fab fa-telegram icon_telegram"></i>
							</a>
                            </li>
                            <li>
                                <a href="#">
								<i class="fab fa-youtube icon_youtube"></i>
							</a>
                            </li>
                            <li>
                                <a href="#">
								<i class="fab fa-google-plus-g icon_g_plus"></i>
							</a>
                            </li>

                        </ul>
                    </div>-->

                </div>
            </div>
        </div>
        
        <div class="clear"></div>
    </div>
    <!-- //form -->
    
    <div class="main-content-agileits">
        <!-- left-content -->

  <!--------------canvas here----------->
  
             <canvas id='canvas' width='860' height='610'>
               
             </canvas>
             

 <!--------------canvas end -------------->
        
        <div class="clear"></div>
    </div>
<br><br><br><br><br><br><br><br>
    <!--// main-content -->
    <!--Copyright-->
    <div class="footer-agileits">
        <marquee>Â© 2022 Awesome Template. All Rights Reserved | Design by <a href="http://w3layouts.com/"> SHIBIN K A</a></marquee>
    </div>
    <!--//Copyright-->
    
<script>
   
   const canvas = document.getElementById("canvas");
   const ctx = canvas.getContext("2d");
   const icon_img = document.getElementById('icon_img')
   const img = new Image()

   img.onload = ()=>{
     ctx.drawImage(img, 0, 0,860,610)
     
   //  ctx.font = ' 50px arial'
    // ctx.fillStyle='#123456'
    // var heading= 'CERTIFICATE';
     //ctx.fillText(heading, 72,110)
     
    // ctx.fillStyle = '#848482'
    // ctx.fillText('OF COMPLETION', 72, 164)
  /*Draw the line
    ctx.strokeStyle = '#A9A9A9';
    ctx.lineWidth = 2.9;
    ctx.beginPath();
    ctx.moveTo(73, 180);
    ctx.lineTo(450, 180);
    ctx.stroke();*/
   
  /*ctx.font = ' 20px arial'
    ctx.fillStyle = '#29465B'
    ctx.fillText('THIS IS TO CERTIFY THAT', 72, 240)*/
    
    /*ctx.font = ' 30px arial'
    ctx.fillStyle = '#00BCE7'
    ctx.fillText('SHIBIN K A', 72, 320)*/
    
    /*ctx.strokeStyle = 'black';
    ctx.lineWidth = 0.7;
    ctx.setLineDash([9, 9]);
    ctx.beginPath();
    ctx.moveTo(73, 330);
    ctx.lineTo(558, 330);
  
    ctx.stroke();*/
    
     /*ctx.font = ' 20px serif'
     ctx.fillStyle='black'
     ctx.fillText("100KCC56684",690,40)*/
     
   
   }
   img.src = 'images/blank100k.jpg'
   var flag
   icon_img.addEventListener('change',()=>{
     
     const imgValue = icon_img.files[0];
     const ovrlyImg = new Image();
     ovrlyImg.src = URL.createObjectURL(imgValue)
     if(flag!=1){
     ovrlyImg.onload = function(){
       ctx.drawImage(ovrlyImg, 550,80,180,160)
       flag = 1;
        }
     }else{
       alert("Sorry!! you can allow only one image, if you want to change the image just refresh the page, then choose file\n\n NOTE: After the reload,All the content of the canvas will remove")
     }
     
   })
   const img1 = document.getElementById("1st");
   img1.addEventListener('click', () => {
     //console.log("img click")
     
     if(flag!=1){
     const Img = new Image()
     Img.src = "images/icon100k.png"
     ctx.drawImage(Img, 550, 80, 180, 160)
     flag = 1
     }else{
       alert("Your already selected this Image")
     }
     
   })
   const img2 = document.getElementById("2nd");
   let flag2
   img2.addEventListener('click', () => {
     //console.log("img click")
   
     if (flag2 != 1) {
       const Img = new Image()
       Img.src = "images/JavaScript-Logo.png"
       ctx.drawImage(Img, 20, 500, 160, 90)
       flag2 = 1
     } else {
       alert("Your already selected this Image")
     }
   
   })
   const img3 = document.getElementById("3rd");
   let flag3
   img3.addEventListener('click', () => {
     //console.log("img click")
   
     if (flag3!= 1) {
       const Img = new Image()
       Img.src = "images/code.png"
       ctx.drawImage(Img, 200, 500, 90, 90)
       flag3 = 1
     } else {
       alert("Your already selected this Image")
     }
   
   })
   const img4 = document.getElementById("4th");
   let flag4
   img4.addEventListener('click', () => {
     //console.log("img click")
   
     if (flag4!= 1) {
       const Img = new Image()
       Img.src = "images/lap-logo.png"
       ctx.drawImage(Img, 310, 480, 150, 120)
       flag4 = 1
       
     } else {
       alert("Your already selected this Image")
     }
   
   })
  /*---------first textbox start ----------*/

      let purpose = document.getElementById("purpose");
     
         purpose.addEventListener("change",()=>{
             ctx.font = ' 50px arial';
             ctx.fillStyle = "#123456"
             let spltPurpose = purpose.value.split(' ')
             if(spltPurpose.length<=3){
               let prpseArray=[]
               for(let i=0;i<spltPurpose.length;i++){
                 if(i==0){
                   
                   ctx.fillText(spltPurpose[i].toUpperCase(), 72, 110)
                 
                 }else{
                   prpseArray.push(spltPurpose[i])
                 if(i==2||spltPurpose.length==2){
                   var result=prpseArray.join(' ')
                   ctx.fillStyle = "#848482"
                   ctx.fillText(result.toUpperCase(), 72, 164)
                   // ....for line....here
                   ctx.strokeStyle = '#A9A9A9';
                   ctx.lineWidth = 2.9;
                   ctx.beginPath();
                   ctx.moveTo(73, 180);
                   ctx.lineTo(450, 180);
                   ctx.stroke();
                   
                 }
                 }
               }
             }else{
               alert("In this field Maximum 3 words")
               purpose.value=""
             }
           })
/*-----------first textbox end--------------*/
/*--------- default text----------------*/

        setTimeout(()=>{
          ctx.font = ' 20px arial'
          ctx.fillStyle = '#29465B'
          ctx.fillText('THIS IS TO CERTIFY THAT', 72, 240)
        },11000)

/*----------default text ends-----------*/
/*----------second textbox start-----------*/
 
    let stName = document.getElementById("stName")
    stName.addEventListener("change",()=>{
      ctx.font = ' 30px arial'
      ctx.fillStyle = '#00BCE7'
      ctx.fillText(stName.value.toUpperCase(), 72, 320)
      ctx.strokeStyle = 'black';
      ctx.lineWidth = 0.7;
      ctx.setLineDash([9, 9]);
      ctx.beginPath();
      ctx.moveTo(73, 330);
      ctx.lineTo(558, 330);
      
      ctx.stroke();
    })

/*--------- second textbox end------------*/

/*--------- certificate no here ----------*/

     let csNo = document.getElementById("csNo")
     csNo.addEventListener("change", () =>{
       if(csNo.value.length<12){
       ctx.font = ' 20px serif'
       ctx.fillStyle = 'black'
       ctx.fillText(csNo.value.toUpperCase(), 690, 40)
       }else{
         alert("In this field allow maximum 11 letters including white space")
       }
       
     }) 

/*-------------end here------------------*/
 /*----------content start ---------------*/
 
 let content = document.getElementById("content")
           
           content.addEventListener("change",()=>{
             ctx.font = "18px serif"
             ctx.fillStyle = "black"
            // console.log(content.value)
             let spltContent = content.value.split(' ');
             if(spltContent.length<=18){
               if(spltContent.length<=9){
                 ctx.fillText(content.value,72,380)
               }else{
                 if(spltContent.length % 2== 0){
                   let firstLin = spltContent.length /2;
                   let finalArray=[]
                   let secondArray=[]
                   for(let i=0;i<spltContent.length;i++){
                     if(i<=firstLin){
                       finalArray.push(spltContent[i]);
                       if(i==firstLin){
                         let finalRes=finalArray.join(' ');
                         ctx.fillText(finalRes,72,380)
                       }
                     }else{
                       secondArray.push(spltContent[i])
                       if(i==spltContent.length-1){
                         let finalRes=secondArray.join(' ')
                         ctx.fillText(finalRes,72,415)
                         //2nd line
                       }
                     }
                   }
                 }else{
                   let len=spltContent.length-1;
                   let firstLin = len / 2;
                   let finalArray = []
                   let secondArray = []
                   for (let i = 0; i < spltContent.length; i++) {
                     if (i <= firstLin) {
                       finalArray.push(spltContent[i]);
                       if (i == firstLin) {
                         let finalRes = finalArray.join(' ');
                         ctx.fillText(finalRes, 72, 380)
                       }
                     } else {
                       secondArray.push(spltContent[i])
                       if (i == spltContent.length - 1) {
                         let finalRes = secondArray.join(' ')
                         ctx.fillText(finalRes, 72, 415)
                         //2nd line
                       }
                     }
                   }
                 }
               }
             }else{
               alert("Content field allow maximum 18 words ");
             }
            
           })
 /*-----------content end ----------------*/
 /*------------icon image2 start ---------*/
 
 let icon_img2 = document.getElementById("icon_img2")
 let img_flag
 icon_img2.addEventListener('change', () => {
 
   const imgValue = icon_img2.files[0];
   const ovrlyImg = new Image();
   ovrlyImg.src = URL.createObjectURL(imgValue)
   if (img_flag != 1) {
     ovrlyImg.onload = function() {
       ctx.drawImage(ovrlyImg, 310, 480, 150, 120)
       img_flag = 1;
     }
   } else {
     alert("Sorry!! you can allow only one image, if you want to change the image just refresh the page, then choose file\n\n NOTE: After the reload,All the content of the canvas will remove")
   }
 
 })
 /*------------end----_------------------*/
       
 /*------------icon imagee start ---------*/
 
 let icon_img3 = document.getElementById("icon_img3")
 let img_flag3
 icon_img3.addEventListener('change', () => {
 
   const imgValue = icon_img3.files[0];
   const ovrlyImg = new Image();
   ovrlyImg.src = URL.createObjectURL(imgValue)
   if (img_flag3 != 1) {
     ovrlyImg.onload = function() {
       ctx.drawImage(ovrlyImg, 70, 480, 150, 120)
       img_flag3 = 1;
     }
   } else {
     alert("Sorry!! you can allow only one image, if you want to change the image just refresh the page, then choose file\n\n NOTE:  After the reload,All the content of the canvas will remove")
   }
 
 })
 /*------------end----_------------------*/
  /*--------- clear button----------------*/
  
     var clear = document.getElementById("clear")
     clear.addEventListener("click",()=>{
       window.location.reload(true);
     })
   /*------------end-------------------*/
	
	/*--------- refresh button----------------*/
  
     var back = document.getElementById("back")
     back.addEventListener("click",()=>{
       window.location.replace("https://shibin-abraham.github.io/certificate-templates/");
     })
   /*------------end-------------------*/
	
/*--------- download button--------------*/
  
     var download = document.getElementById("download")
     download.addEventListener("click",()=>{
       let p = document.getElementById("p");
       
       setTimeout(() => {
         let i = 5
         p.innerHTML = i
         setTimeout(() => {
           i--
           p.innerHTML = i
           setTimeout(() => {
             i--
             p.innerHTML = i
             setTimeout(() => {
               i--
               p.innerHTML = i
               setTimeout(() => {
                 i--
                 p.innerHTML = i
                 var image = canvas.toDataURL("image/png", 1.0);
                 //console.log(image)
                 let pdf = new jsPDF('landscape');
                 pdf.setFontSize(20);
                 pdf.addImage(image, 'PNG', 15, 15, 280, 180);
                 pdf.save('awesome_template.pdf')
                 setTimeout(() => {
                   i--
                   p.innerHTML = i
                   p.innerHTML = "Downloading..."
       
       
       
       
       
                   setTimeout(() => {
       
                     p.innerHTML = ""
                   }, 2000)
                 }, 1000)
               }, 1000)
             }, 1000)
           }, 1000)
         }, 1000)
       }, 1000)
       
     })
/*------------end-----------------------*/
      
               
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.debug.js"></script>
</body>

</html>
